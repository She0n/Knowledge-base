app.js loaded
check token exists
ajax auth
if(auth) {
  ws auth
  ws determines
}

ws emit logout
on logout -> logout,
on disconnect -> just disable socket events,
notify that socket is disabled, disabled chats
on reconnect getUpdates
ws open | open state whenever |
ws.onopen once
ws.reconnect overrides ws object

